
<div
  *ngFor="let flag1 of time_line.flags | unique; let first1 = first; let last1 = last; let i1 = index"
  class="main-block">

  <div  class="main-block--flags">

    <div class="flag-1 inside-flag"
      [ngStyle]="{'margin-left': 'calc('+ i1 +' * 38rem)'}">

      <div class="flag-1_card"
        [ngStyle]="{  'border-left': '.5rem solid rgba('+flag1.color_rgb+',1)',
                          'background-color': 'rgba('+flag1.color_rgb+',.3)'}">

        <div class="flag-1_white--background"></div>

        <!-- title -->
        <div id="title-content">
          <div class="box-inside-flag-title">
            <span class="inside-flag_title">
              {{flag1.flag_title | truncate:20}}
            </span>
          </div>

          <!-- Menu Edit Delete -->
          <div class="box-inside-flag-title ">
            <i matSuffix
              class="material-icons-outlined cursor_pointer noSelect menu-remove-icon"
              id="menu-{{flag1.color_hex.substring(1)}}"
              [matMenuTriggerFor]="menuEditRemove">more_vert</i>
            <!-- Start Filter Sort-->
            <mat-menu #menuEditRemove="matMenu">
              <span class="cursor_pointer noSelect box-inside-flag-title_menu">
                <i class="material-icons box-inside-flag-title_menu--edit">
                  edit
                </i>
                <div class="box-inside-flag-title_menu--t1">Editar</div>
              </span> <br>
              <span class="cursor_pointer noSelect box-inside-flag-title_menu">
                <i class="material-icons box-inside-flag-title_menu--delete">
                  delete_forever
                </i>
                <div class="box-inside-flag-title_menu--t2">Deletar</div>
              </span>
            </mat-menu>
          </div>
        </div>

        <!-- Date -->
        <div class="inside-flag_date"
          [ngStyle]="{'background-color' : 'rgba('+flag1.color_rgb+',.2)'}">
          <div class="inside-flag_date_day">
            <!-- {{flag1.date_obj.day_month_year.substring(8).split('T').shift()}} -->
            {{flag1.date_obj.day}}
          </div>
          <div class="inside-flag_date_month">
            <span>
              <!-- {{flag1.date_obj.month.split('/').shift() | titlecase}} -->
              {{flag1.date_obj.month_s}}
            </span>
          </div>
          <div class="inside-flag_date_year">
            <!-- {{flag1.date_obj.day_month_year.substring(0).split('-').shift()}} -->
            {{flag1.date_obj.year}}
          </div>
        </div>
        <!-- Description -->
        <div class="inside-flag_description">
          <p>{{flag1.flag_description | truncate:250}}</p>
        </div>
        <!-- Nets -->
        <div class="inside-flag_nets">
          {{'TIME-LINE.Flag1-Flag2-Component.FLAGS-1-2.modal.item-02' | translate}}
        </div>

        <!-- Chips -->
        <div style="height: 12rem; width: 100%;">

          <mat-chip-listbox
            *ngIf="flag1.social_medias_chips.length === 0"
            class="inside-flag_no-net">
            <!-- NÃ£o existe rede criada. -->
            <p>
              <mark> {{'TIME-LINE.Flag1-Flag2-Component.FLAGS-1-2.modal.item-01' | translate}}</mark>
            </p>
            <p>
              {{'TIME-LINE.Flag1-Flag2-Component.FLAGS-1-2.modal.item-03' | translate}}
            </p>
          </mat-chip-listbox>

        </div>
      </div> <!-- Card End -->
      <!-- Open Kanban -->
      <div class="inside-flag_open-kanban cursor_pointer">
        <!-- Abrir Kanban -->
        {{'TIME-LINE.Flag1-Flag2-Component.FLAGS-1-2.modal.item-04' | translate}}
        <mat-icon matSuffix class="material-icons ">
          view_kanban
        </mat-icon>
      </div>
      <!-- Open Details -->
      <!-- <div class="inside-flag_open-detail cursor_pointer">
          Abrir Detalhe
        <mat-icon matSuffix class="material-icons ">
            open_in_new
        </mat-icon>
      </div> -->
    </div>

    <div [ngStyle]="{'margin-left': 'calc('+ i1 +' * 38rem)'}">
      <!-- Flagpole -->
      <div class="flag-1_line" [ngStyle]="{'border-left' : '.5rem solid rgba('+flag1.color_rgb+',.3)'}">
      </div>

      <!-- Flag base -->
      <div class="flag-1_base" [ngStyle]="{'border-top' : '.5rem solid rgba('+flag1.color_rgb+',.3)'}"> </div>

      <!-- Year -->
      <div class="flag-1_year Roboto_700">{{flag1.year}}</div>

      <!-- Month - or - flag1.month.split('/').pop() -->
      <div *ngIf="flag1.flag_style === 1" class="flag-1_month Roboto_700">
        <span class="" *ngIf="flag1.date_obj.month_code">
          {{flag1.date_obj.month_s +'/'+ flag1.date_obj.year}}
        </span>
      </div>

      <!-- Filter 1 -->
      <div *ngIf="flag1.flag_style === 1" class="flag-1_filter cursor_pointer"
        [ngStyle]="{'background' : 'rgba('+flag1.color_rgb+', 1)'}">
      </div>
    </div>

  </div>
</div>

